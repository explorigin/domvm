{"version":3,"file":"domvm.ssr.js","sources":["../../src/view/VTYPES.js","../../src/utils.js","../../src/view/utils.js","../../src/view/addons/autoPx.js","../../src/view/addons/cssTag.js","../../src/view/initElementNode.js","../../src/view/addons/ssr.js","../../src/builds/ssr.js"],"sourcesContent":["// NOTE: if adding a new *VNode* type, make it < COMMENT and renumber rest.\n// There are some places that test <= COMMENT to assert if node is a VNode\n\n// VNode types\nexport const ELEMENT\t= 1;\nexport const TEXT\t\t= 2;\nexport const COMMENT\t= 3;\n\n// placeholder types\nexport const VVIEW\t\t= 4;\nexport const VMODEL\t\t= 5;","export const ENV_DOM = typeof window !== \"undefined\";\nconst win = ENV_DOM ? window : {};\nconst rAF = win.requestAnimationFrame;\n\nexport const emptyObj = {};\n\nexport function noop() {};\n\nexport const isArr = Array.isArray;\n\nexport function isSet(val) {\n\treturn val != null;\n}\n\nexport function isPlainObj(val) {\n\treturn val != null && val.constructor === Object;\t\t//  && typeof val === \"object\"\n}\n\nexport function insertArr(targ, arr, pos, rem) {\n\ttarg.splice.apply(targ, [pos, rem].concat(arr));\n}\n\nexport function isVal(val) {\n\tvar t = typeof val;\n\treturn t === \"string\" || t === \"number\";\n}\n\nexport function isFunc(val) {\n\treturn typeof val === \"function\";\n}\n\nexport function isProm(val) {\n\treturn typeof val === \"object\" && isFunc(val.then);\n}\n\nexport function isElem(val) {\n\treturn ENV_DOM && val instanceof HTMLElement;\n}\n\nexport function assignObj(targ) {\n\tvar args = arguments;\n\n\tfor (var i = 1; i < args.length; i++)\n\t\tfor (var k in args[i])\n\t\t\ttarg[k] = args[i][k];\n\n\treturn targ;\n}\n\n// export const defProp = Object.defineProperty;\n\nexport function deepSet(targ, path, val) {\n\tvar seg;\n\n\twhile (seg = path.shift()) {\n\t\tif (path.length === 0)\n\t\t\ttarg[seg] = val;\n\t\telse\n\t\t\ttarg[seg] = targ = targ[seg] || {};\n\t}\n}\n\n/*\nexport function deepUnset(targ, path) {\n\tvar seg;\n\n\twhile (seg = path.shift()) {\n\t\tif (path.length === 0)\n\t\t\ttarg[seg] = val;\n\t\telse\n\t\t\ttarg[seg] = targ = targ[seg] || {};\n\t}\n}\n*/\n\nexport function sliceArgs(args, offs) {\n\tvar arr = [];\n\tfor (var i = offs; i < args.length; i++)\n\t\tarr.push(args[i]);\n\treturn arr;\n}\n\nexport function cmpObj(a, b) {\n\tfor (var i in a)\n\t\tif (a[i] !== b[i])\n\t\t\treturn false;\n\n\treturn true;\n}\n\nexport function cmpArr(a, b) {\n\tconst alen = a.length;\n\n\tif (b.length !== alen)\n\t\treturn false;\n\n\tfor (var i = 0; i < alen; i++)\n\t\tif (a[i] !== b[i])\n\t\t\treturn false;\n\n\treturn true;\n}\n\n// https://github.com/darsain/raft\n// rAF throttler, aggregates multiple repeated redraw calls within single animframe\nexport function raft(fn) {\n\tif (!rAF)\n\t\treturn fn;\n\n\tvar id, ctx, args;\n\n\tfunction call() {\n\t\tid = 0;\n\t\tfn.apply(ctx, args);\n\t}\n\n\treturn function() {\n\t\tctx = this;\n\t\targs = arguments;\n\t\tif (!id) id = rAF(call);\n\t};\n}\n\nexport function curry(fn, args, ctx) {\n\treturn function() {\n\t\treturn fn.apply(ctx, args);\n\t};\n}\n\n/*\nexport function prop(val, cb, ctx, args) {\n\treturn function(newVal, execCb) {\n\t\tif (newVal !== undefined && newVal !== val) {\n\t\t\tval = newVal;\n\t\t\texecCb !== false && isFunc(cb) && cb.apply(ctx, args);\n\t\t}\n\n\t\treturn val;\n\t};\n}\n*/\n\n// adapted from https://github.com/Olical/binary-search\nexport function binaryKeySearch(list, item) {\n    var min = 0;\n    var max = list.length - 1;\n    var guess;\n\n\tvar bitwise = (max <= 2147483647) ? true : false;\n\tif (bitwise) {\n\t\twhile (min <= max) {\n\t\t\tguess = (min + max) >> 1;\n\t\t\tif (list[guess].key === item) { return guess; }\n\t\t\telse {\n\t\t\t\tif (list[guess].key < item) { min = guess + 1; }\n\t\t\t\telse { max = guess - 1; }\n\t\t\t}\n\t\t}\n\t} else {\n\t\twhile (min <= max) {\n\t\t\tguess = Math.floor((min + max) / 2);\n\t\t\tif (list[guess].key === item) { return guess; }\n\t\t\telse {\n\t\t\t\tif (list[guess].key < item) { min = guess + 1; }\n\t\t\t\telse { max = guess - 1; }\n\t\t\t}\n\t\t}\n\t}\n\n    return -1;\n}","import { emptyObj } from '../utils';\n\nexport function isEvProp(name) {\n\treturn name[0] === \"o\" && name[1] === \"n\";\n}\n\nexport function isSplProp(name) {\n\treturn name[0] === \"_\";\n}\n\nexport function isStyleProp(name) {\n\treturn name === \"style\";\n}\n\nexport function repaint(node) {\n\tnode && node.el && node.el.offsetHeight;\n}\n\n// tests interactive props where real val should be compared\nexport function isDynProp(tag, attr) {\n//\tswitch (tag) {\n//\t\tcase \"input\":\n//\t\tcase \"textarea\":\n//\t\tcase \"select\":\n//\t\tcase \"option\":\n\t\t\tswitch (attr) {\n\t\t\t\tcase \"value\":\n\t\t\t\tcase \"checked\":\n\t\t\t\tcase \"selected\":\n//\t\t\t\tcase \"selectedIndex\":\n\t\t\t\t\treturn true;\n\t\t\t}\n//\t}\n\n\treturn false;\n}\n\nexport function getVm(n) {\n\tn = n || emptyObj;\n\twhile (n.vm == null && n.parent)\n\t\tn = n.parent;\n\treturn n.vm;\n}","const unitlessProps = {\n\tanimationIterationCount: true,\n\tboxFlex: true,\n\tboxFlexGroup: true,\n\tboxOrdinalGroup: true,\n\tcolumnCount: true,\n\tflex: true,\n\tflexGrow: true,\n\tflexPositive: true,\n\tflexShrink: true,\n\tflexNegative: true,\n\tflexOrder: true,\n\tgridRow: true,\n\tgridColumn: true,\n\torder: true,\n\tlineClamp: true,\n\n\tborderImageOutset: true,\n\tborderImageSlice: true,\n\tborderImageWidth: true,\n\tfontWeight: true,\n\tlineHeight: true,\n\topacity: true,\n\torphans: true,\n\ttabSize: true,\n\twidows: true,\n\tzIndex: true,\n\tzoom: true,\n\n\tfillOpacity: true,\n\tfloodOpacity: true,\n\tstopOpacity: true,\n\tstrokeDasharray: true,\n\tstrokeDashoffset: true,\n\tstrokeMiterlimit: true,\n\tstrokeOpacity: true,\n\tstrokeWidth: true\n};\n\nexport function autoPx(name, val) {\n\tif (FEAT_AUTOPX) {\n\t\t// typeof val === 'number' is faster but fails for numeric strings\n\t\treturn !isNaN(val) && !unitlessProps[name] ? (val + \"px\") : val;\n\t}\n\telse\n\t\treturn val;\n}","const tagCache = {};\n\nconst RE_ATTRS = /\\[(\\w+)(?:=(\\w+))?\\]/g;\n\nconst tagObj = {};\n\nexport function cssTag(raw) {\n\tif (FEAT_CSSTAG) {\n\t\tvar cached = tagCache[raw];\n\n\t\tif (cached == null) {\n\t\t\tvar tag, id, cls, attr;\n\n\t\t\ttagCache[raw] = cached = {\n\t\t\t\ttag:\t(tag\t= raw.match( /^[-\\w]+/))\t\t?\ttag[0]\t\t\t\t\t\t: \"div\",\n\t\t\t\tid:\t\t(id\t\t= raw.match( /#([-\\w]+)/))\t\t? \tid[1]\t\t\t\t\t\t: null,\n\t\t\t\tclass:\t(cls\t= raw.match(/\\.([-\\w.]+)/))\t\t?\tcls[1].replace(/\\./g, \" \")\t: null,\n\t\t\t\tattrs:\tnull,\n\t\t\t};\n\n\t\t\twhile (attr = RE_ATTRS.exec(raw)) {\n\t\t\t\tif (cached.attrs == null)\n\t\t\t\t\tcached.attrs = {};\n\t\t\t\tcached.attrs[attr[1]] = attr[2] || \"\";\n\t\t\t}\n\t\t}\n\n\t\treturn cached;\n\t}\n\telse {\n\t\ttagObj.tag = raw;\n\t\treturn tagObj;\n\t}\n}","import { ELEMENT } from './VTYPES';\nimport { VNode } from './VNode';\nimport { cssTag } from './addons/cssTag';\nimport { isSet, isPlainObj } from '../utils';\nimport { devNotify } from \"./addons/devmode\";\n\n// (de)optimization flags\n\n// prevents inserting/removing/reordering of children\nexport const FIXED_BODY = 1;\n// forces slow bottom-up removeChild to fire deep willRemove/willUnmount hooks,\nexport const DEEP_REMOVE = 2;\n// enables fast keyed lookup of children via binary search, expects homogeneous keyed body\nexport const KEYED_LIST = 4;\n// indicates an vnode match/diff/recycler function for body\nexport const LAZY_LIST = 8;\n\nexport function initElementNode(tag, attrs, body, flags) {\n\tlet node = new VNode;\n\n\tnode.type = ELEMENT;\n\n\tif (isSet(flags))\n\t\tnode.flags = flags;\n\n\tnode.attrs = attrs;\n\n\tvar parsed = cssTag(tag);\n\n\tnode.tag = parsed.tag;\n\n\t// meh, weak assertion, will fail for id=0, etc.\n\tif (parsed.id || parsed.class || parsed.attrs) {\n\t\tvar p = node.attrs || {};\n\n\t\tif (parsed.id && !isSet(p.id))\n\t\t\tp.id = parsed.id;\n\n\t\tif (parsed.class) {\n\t\t\tnode._class = parsed.class;\t\t// static class\n\t\t\tp.class = parsed.class + (isSet(p.class) ? (\" \" + p.class) : \"\");\n\t\t}\n\t\tif (parsed.attrs) {\n\t\t\tfor (var key in parsed.attrs)\n\t\t\t\tif (!isSet(p[key]))\n\t\t\t\t\tp[key] = parsed.attrs[key];\n\t\t}\n\n//\t\tif (node.attrs !== p)\n\t\t\tnode.attrs = p;\n\t}\n\n\tvar mergedAttrs = node.attrs;\n\n\tif (isSet(mergedAttrs)) {\n\t\tif (isSet(mergedAttrs._key))\n\t\t\tnode.key = mergedAttrs._key;\n\n\t\tif (isSet(mergedAttrs._ref))\n\t\t\tnode.ref = mergedAttrs._ref;\n\n\t\tif (isSet(mergedAttrs._hooks))\n\t\t\tnode.hooks = mergedAttrs._hooks;\n\n\t\tif (isSet(mergedAttrs._raw))\n\t\t\tnode.raw = mergedAttrs._raw;\n\n\t\tif (isSet(mergedAttrs._data))\n\t\t\tnode.data = mergedAttrs._data;\n\n\t\tif (isSet(mergedAttrs._flags))\n\t\t\tnode.flags = mergedAttrs._flags;\n\n\t\tif (!isSet(node.key)) {\n\t\t\tif (isSet(node.ref))\n\t\t\t\tnode.key = node.ref;\n\t\t\telse if (isSet(mergedAttrs.id))\n\t\t\t\tnode.key = mergedAttrs.id;\n\t\t\telse if (isSet(mergedAttrs.name))\n\t\t\t\tnode.key = mergedAttrs.name + (mergedAttrs.type == \"radio\" ? mergedAttrs.value : \"\");\n\t\t}\n\t}\n\n\tif (body != null)\n\t\tnode.body = body;\n\n\tif (_DEVMODE) {\n\t\tif (node.tag === \"svg\") {\n\t\t\tsetTimeout(function() {\n\t\t\t\tnode.ns == null && devNotify(\"SVG_WRONG_FACTORY\", [node]);\n\t\t\t}, 16);\n\t\t}\n\t\telse if (node.tag === \"input\" && node.key == null)\n\t\t\tdevNotify(\"UNKEYED_INPUT\", [node]);\n\t}\n\n\treturn node;\n}","import { ELEMENT, TEXT, COMMENT, VVIEW, VMODEL } from '../VTYPES';\nimport { noop, isArr, isPlainObj, isVal, isFunc, isSet, ENV_DOM } from '../../utils';\nimport { isEvProp, isDynProp } from '../utils';\nimport { autoPx } from './autoPx';\nimport { LAZY_LIST } from '../initElementNode';\nimport { cssTag } from './cssTag';\n\nconst mockVm = {\n\tview: null,\n\tdata: null,\n\tkey: null,\n\topts: null,\n\tstate: null,\n\tapi: null,\n\tconfig: noop,\n};\n\nexport function createView(view, data, key, opts) {\n\tmockVm.view = view;\n\tmockVm.data = data;\n\tmockVm.key = key;\n\tmockVm.opts = opts;\n\n\tif (isFunc(view))\n\t\tvar out = view(mockVm, data, key, opts)\n\telse\n\t\tvar out = view;\n\n\tif (isFunc(out))\n\t\tvar render = out;\n\telse {\n\t\tvar render = out.render;\n\n\t\tif (view.init)\n\t\t\tview.init(mockVm, data, key, opts);\t\t// if mockVm is shared and init stores data for specific instance, or .state or .api, won't work\n\t}\n\n\treturn render(mockVm, data);\n}\n\nexport { createView as defineView };\n\nexport function defineElement(tag, arg1, arg2, flags) {\n\t// flatten templates (can't use .join)\n\t// remove false/undefined/null\n\t// defineText escaping\n\n\tvar attrs, body;\n\n\tif (arg2 == null) {\n\t\tif (isPlainObj(arg1))\n\t\t\tattrs = arg1;\n\t\telse\n\t\t\tbody = arg1;\n\t}\n\telse {\n\t\tattrs = arg1;\n\t\tbody = arg2;\n\t}\n\n\t// pulled out of initElementNode, todo: dry\n\tvar parsed = cssTag(tag);\n\n\ttag = parsed.tag;\n\n\t// meh, weak assertion, will fail for id=0, etc.\n\tif (parsed.id || parsed.class || parsed.attrs) {\n\t\tvar p = attrs || {};\n\n\t\tif (parsed.id && !isSet(p.id))\n\t\t\tp.id = parsed.id;\n\n\t\tif (parsed.class)\n\t\t\tp.class = parsed.class + (isSet(p.class) ? (\" \" + p.class) : \"\");\n\t\tif (parsed.attrs) {\n\t\t\tfor (var key in parsed.attrs)\n\t\t\t\tif (!isSet(p[key]))\n\t\t\t\t\tp[key] = parsed.attrs[key];\n\t\t}\n\n\t\tattrs = p;\n\t}\n\n/*\n\tif (node.el != null && node.tag == null) {\n\t\tout = node.el.outerHTML;\t\t// pre-existing dom elements (does not currently account for any props applied to them)\n\t\tbreak;\n\t}\n*/\n\n\tvar buf = \"\";\n\n\tbuf += \"<\" + tag;\n\n\tif (attrs != null) {\n\t\tvar style = null;\n\n\t\tfor (var pname in attrs) {\n\t\t\tif (isEvProp(pname) || pname[0] === \".\" || pname[0] === \"_\" )\t\t//\tisSplProp\t\t || dynProps === false && isDynProp(tag, pname)\n\t\t\t\tcontinue;\n\n\t\t\tvar val = attrs[pname];\n\n\t\t\tif (pname === \"style\" && val != null) {\n\t\t\t\tstyle = typeof val === \"object\" ? styleStr(val) : val;\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tif (val === true)\n\t\t\t\tbuf += \" \" + escHtml(pname) + '=\"\"';\n\t\t\telse if (val === false) {}\n\t\t\telse if (val != null)\n\t\t\t\tbuf += \" \" + escHtml(pname) + '=\"' + escQuotes(val) + '\"';\n\t\t}\n\n\t\tif (style != null)\n\t\t\tbuf += ' style=\"' + escQuotes(style.trim()) + '\"';\n\t}\n\n\t// if body-less svg node, auto-close & return\n//\tif (body == null && ns != null && tag !== \"svg\")\n//\t\treturn buf + \"/>\";\n//\telse\n\t\tbuf += \">\";\n\n\tif (!voidTags[tag]) {\n\t\tif (isArr(body))\n\t\t\tbuf += body.join(\"\");\n\t//\t\tbuf += eachHtml(body, dynProps);\n\t\telse if ((flags & LAZY_LIST) === LAZY_LIST) {\n\t\t//\tbody.body(node);\n\t\t//\tbuf += eachHtml(body, dynProps);\n\t\t}\n\t\telse\n\t\t\tbuf += escHtml(body);\n\t\t//\tbuf += raw ? body : escHtml(body);\n\n\t\tbuf += \"</\" + tag + \">\";\n\t}\n\n\treturn buf;\n\n/*\n\treturn (\n\t\t\"<\" + tag + (attrs ? procAttrs(attrs) : \"\") + \">\" +\n\t\t(isArr(body) ? body.join(\"\") : body) +\n\t\t\"</\" + tag + \">\"\n\t);\n*/\n}\n\nexport function defineSvgElement() {}\nexport function defineText() {}\nexport function defineComment() {}\n\n//injectView\n//injectElement\n\n/*\nexport function vmProtoHtml(dynProps) {\n\tvar vm = this;\n\n\tif (vm.node == null)\n\t\tvm._redraw(null, null, false);\n\n\treturn html(vm.node, dynProps);\n};\n\nexport function vProtoHtml(dynProps) {\n\treturn html(this, dynProps);\n};\n*/\n\nfunction camelDash(val) {\n\treturn val.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n}\n\nfunction styleStr(css) {\n\tvar style = \"\";\n\n\tfor (var pname in css) {\n\t\tif (css[pname] != null)\n\t\t\tstyle += camelDash(pname) + \": \" + autoPx(pname, css[pname]) + '; ';\n\t}\n\n\treturn style;\n}\n\nfunction toStr(val) {\n\treturn val == null ? '' : ''+val;\n}\n\nconst voidTags = {\n    area: true,\n    base: true,\n    br: true,\n    col: true,\n    command: true,\n    embed: true,\n    hr: true,\n    img: true,\n    input: true,\n    keygen: true,\n    link: true,\n    meta: true,\n    param: true,\n    source: true,\n    track: true,\n\twbr: true\n};\n\nfunction escHtml(s) {\n\ts = toStr(s);\n\n\tfor (var i = 0, out = ''; i < s.length; i++) {\n\t\tswitch (s[i]) {\n\t\t\tcase '&': out += '&amp;';  break;\n\t\t\tcase '<': out += '&lt;';   break;\n\t\t\tcase '>': out += '&gt;';   break;\n\t\t//\tcase '\"': out += '&quot;'; break;\n\t\t//\tcase \"'\": out += '&#039;'; break;\n\t\t//\tcase '/': out += '&#x2f;'; break;\n\t\t\tdefault:  out += s[i];\n\t\t}\n\t}\n\n\treturn out;\n}\n\nfunction escQuotes(s) {\n\ts = toStr(s);\n\n\tfor (var i = 0, out = ''; i < s.length; i++)\n\t\tout += s[i] === '\"' ? '&quot;' : s[i];\t\t// also &?\n\n\treturn out;\n}\n\n/*\nfunction eachHtml(arr, dynProps) {\n\tvar buf = '';\n\tfor (var i = 0; i < arr.length; i++)\n\t\tbuf += html(arr[i], dynProps);\n\treturn buf;\n}\n*/\n\nfunction html(node, dynProps) {\n\tvar out, style;\n\n\tswitch (node.type) {\n\t\tcase VVIEW:\n\t\t\tout = createView(node.view, node.data, node.key, node.opts).html(dynProps);\n\t\t\tbreak;\n\t\tcase VMODEL:\n\t\t\tout = node.vm.html();\n\t\t\tbreak;\n\t\tcase ELEMENT:\n\t\t\t// out\n\t\t\tbreak;\n\t\tcase TEXT:\n\t\t\tout = escHtml(node.body);\n\t\t\tbreak;\n\t\tcase COMMENT:\n\t\t\tout = \"<!--\" + escHtml(node.body) + \"-->\";\n\t\t\tbreak;\n\t}\n\n\treturn out;\n};","import { createView } from \"../view/addons/ssr\";\nimport { defineView } from \"../view/addons/ssr\";\nimport { defineElement } from \"../view/addons/ssr\";\n\nexport default {\n//\tconfig,\n\n//\tViewModel,\n//\tVNode,\n\n\tcreateView,\n\n\tdefineElement,\n//\tdefineSvgElement,\n//\tdefineText,\n//\tdefineComment,\n\tdefineView,\n\n//\tinjectView,\n//\tinjectElement,\n\n//\tlazyList,\n\n//\tFIXED_BODY,\n//\tDEEP_REMOVE,\n//\tKEYED_LIST,\n//\tLAZY_LIST,\n}"],"names":["const","defineView"],"mappings":"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"}
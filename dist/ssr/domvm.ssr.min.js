/*
 https://github.com/leeoniya/domvm (3.x-dev, ssr)
*/
(function(l,h){"object"===typeof exports&&"undefined"!==typeof module?module.exports=h():"function"===typeof define&&define.amd?define(h):l.domvm=h()})(this,function(){"use strict";function l(a,b,d,h){k.view=a;k.data=b;k.key=d;k.opts=h;var e="function"===typeof a?a(k,b,d,h):a;"function"!==typeof e&&(e=e.render,a.init&&a.init(k,b,d,h));return e(k,b)}function h(a){a=null==a?"":""+a;for(var b=0,d="";b<a.length;b++)switch(a[b]){case "&":d+="&amp;";break;case "<":d+="&lt;";break;case ">":d+="&gt;";break;default:d+=
a[b]}return d}function q(a){a=null==a?"":""+a;for(var b=0,d="";b<a.length;b++)d+='"'===a[b]?"&quot;":a[b];return d}var t=Array.isArray,u={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,order:!0,lineClamp:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,
fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},r={},v=/\[(\w+)(?:=(\w+))?\]/g,k={view:null,data:null,key:null,opts:null,state:null,api:null,config:function(){}},w={area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0};return{createView:l,defineElement:function(a,b,d,k){var e,n;null==d?null!=b&&b.constructor===Object?e=b:n=b:(e=b,
n=d);var c;b=r[a];if(null==b){var f,p;for(r[a]=b={tag:(c=a.match(/^[-\w]+/))?c[0]:"div",id:(f=a.match(/#([-\w]+)/))?f[1]:null,class:(p=a.match(/\.([-\w.]+)/))?p[1].replace(/\./g," "):null,attrs:null};c=v.exec(a);)null==b.attrs&&(b.attrs={}),b.attrs[c[1]]=c[2]||""}c=b;a=c.tag;if(c.id||c.class||c.attrs)if(e=e||{},c.id&&null==e.id&&(e.id=c.id),c.class&&(e.class=c.class+(null!=e.class?" "+e.class:"")),c.attrs)for(var g in c.attrs)null==e[g]&&(e[g]=c.attrs[g]);g="<"+a;if(null!=e){c=null;for(var m in e)if(("o"!==
m[0]||"n"!==m[1])&&"."!==m[0]&&"_"!==m[0])if(f=e[m],"style"===m&&null!=f)if("object"===typeof f){c=void 0;p="";for(c in f)if(null!=f[c]){b=c.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()+": ";d=c;var l=f[c];d=isNaN(l)||u[d]?l:l+"px";p+=b+d+"; "}c=p}else c=f;else!0===f?g+=" "+h(m)+'=""':!1!==f&&null!=f&&(g+=" "+h(m)+'="'+q(f)+'"');null!=c&&(g+=' style="'+q(c.trim())+'"')}g+=">";w[a]||(t(n)?g+=n.join(""):8!==(k&8)&&(g+=h(n)),g+="</"+a+">");return g},defineView:l}});
